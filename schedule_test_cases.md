# 業務スケジュール管理システム テストケースとテストデータ

## テスト概要

このドキュメントでは、業務スケジュール管理システムのテストケースとテストデータについて記載しています。テストは、業務一覧テーブルに定義された様々な条件に基づいて、スケジュールが正しく生成されることを確認するものです。

- テスト基準日：2025年4月29日（昭和の日、非営業日）

## 1. テスト条件カバレッジ

テストケースは、以下の条件の組み合わせをカバーしています：

### 周期・頻度
- 日次
- 週次
- 月次
- 年次

### 基準
- 暦日（基準なし）
- 暦日(n日指定)
- 暦日(月末逆算)
- 暦日(曜日)
- 営業日(n日指定)
- 営業日(月末逆算)

### 非営業日振替規則
- 振替しない
- 直前営業日
- 直後営業日

### 有効期間
- 有効期間内
- 有効期間外

## 2. テストデータセット

テストデータには、業務一覧テーブルテストデータ.csvに含まれる様々なパターンの業務が含まれています。
主要なテストデータを以下に示します：

### 2-1. 日次業務
| 業務ID | 業務名            | 周期・頻度 | 基準     | 非営業日振替規則 |
|--------|------------------|-----------|----------|----------------|
| D001   | 日次業務（毎日）   | 日次      | (基準なし) | 振替しない      |
| D002   | 日次業務（営業日） | 日次      | 営業日    | 振替しない      |

### 2-2. 週次業務
| 業務ID | 業務名                        | 周期・頻度 | 基準        | 曜日 | 非営業日振替規則 |
|--------|------------------------------|-----------|------------|-----|----------------|
| W001   | 毎週月曜                      | 週次      | 暦日(曜日)  | 月  | 振替しない      |
| W003   | 毎週金曜（直前営業日振替）      | 週次      | 暦日(曜日)  | 金  | 直前営業日      |
| W004   | 毎週金曜（直後営業日振替）      | 週次      | 暦日(曜日)  | 金  | 直後営業日      |

### 2-3. 月次業務
| 業務ID | 業務名                              | 周期・頻度 | 基準               | n日 | 非営業日振替規則 |
|--------|------------------------------------|-----------|-------------------|-----|----------------|
| M001   | 毎月1日                             | 月次      | 暦日(n日指定)      | 1   | 振替しない      |
| M002   | 毎月15日（直前営業日振替）            | 月次      | 暦日(n日指定)      | 15  | 直前営業日      |
| M004   | 毎月末日                            | 月次      | 暦日(月末逆算)      | 0   | 振替しない      |
| M006   | 毎月第1営業日                        | 月次      | 営業日(n日指定)     | 1   | 振替しない      |
| M008   | 毎月最終営業日                       | 月次      | 営業日(月末逆算)     | 0   | 振替しない      |
| M010   | 毎月第2月曜                         | 月次      | 暦日(曜日)         | -   | 振替しない      |

### 2-4. 年次業務
| 業務ID | 業務名                            | 周期・頻度 | 基準               | 月 | n日 | 非営業日振替規則 |
|--------|----------------------------------|-----------|-------------------|----|-----|----------------|
| Y001   | 毎年1月5日                        | 年次      | 暦日(n日指定)      | 1  | 5   | 振替しない      |
| Y002   | 毎年3月末日（直前営業日振替）       | 年次      | 暦日(月末逆算)      | 3  | 0   | 直前営業日      |
| Y003   | 毎年4月第1営業日                  | 年次      | 営業日(n日指定)     | 4  | 1   | 振替しない      |
| Y005   | 毎年2月第2月曜                    | 年次      | 暦日(曜日)         | 2  | -   | 振替しない      |

### 2-5. 有効期間テスト
| 業務ID | 業務名           | 周期・頻度 | 有効開始日   | 有効終了日   |
|--------|-----------------|-----------|------------|------------|
| S001   | 期間限定タスク    | 日次      | 2024-03-01 | 2024-03-31 |
| LT01   | 有効期限切れタスク | 日次      | 2023-01-01 | 2023-12-31 |

## 3. テストケース

以下に、具体的なテストケースを示します。テストケースは、2025年4月29日（昭和の日、非営業日）を基準日として、各業務の条件に基づいた判定結果を確認するものです。

### 3-1. 日次業務テストケース

#### TC-D001: 日次業務（毎日）- 基準日判定
- **業務ID**: D001
- **テスト内容**: 2025年4月29日が実行対象日かどうかを判定
- **期待結果**: 実行対象となる（毎日実施、振替なし）
- **実際の結果**: 

#### TC-D002: 日次業務（営業日）- 基準日判定
- **業務ID**: D002
- **テスト内容**: 2025年4月29日が実行対象日かどうかを判定
- **期待結果**: 実行対象外となる（営業日のみ実施、2025年4月29日は非営業日）
- **実際の結果**: 

### 3-2. 週次業務テストケース

#### TC-W001: 毎週月曜 - 基準日判定
- **業務ID**: W001
- **テスト内容**: 2025年4月29日が実行対象日かどうかを判定
- **期待結果**: 実行対象外となる（毎週月曜のみ実施、2025年4月29日は火曜日）
- **実際の結果**: 

#### TC-W003: 毎週金曜（直前営業日振替）- 振替日検証
- **業務ID**: W003
- **テスト日**: 2025年5月2日（金曜日）
- **テスト内容**: 2025年5月2日が実行対象日かどうかを判定
- **期待結果**: 実行対象となる（毎週金曜に実施）
- **実際の結果**: 

#### TC-W003-2: 毎週金曜（直前営業日振替）- 祝日振替検証
- **業務ID**: W003
- **テスト日**: 2025年5月3日（金曜日、憲法記念日で非営業日）
- **テスト内容**: 非営業日の振替処理が正しく行われるか検証
- **期待結果**: 2025年5月2日（直前営業日の金曜日）に振り替えられる
- **実際の結果**: 

### 3-3. 月次業務テストケース

#### TC-M001: 毎月1日 - 基準日判定
- **業務ID**: M001
- **テスト内容**: 2025年5月1日が実行対象日かどうかを判定
- **期待結果**: 実行対象となる（毎月1日に実施）
- **実際の結果**: 

#### TC-M002: 毎月15日（直前営業日振替） - 振替なしケース判定
- **業務ID**: M002
- **テスト日**: 2025年4月15日（営業日）
- **テスト内容**: 営業日の場合、振替が発生しないことを確認
- **期待結果**: 実行対象となる（営業日なのでそのまま実施）
- **実際の結果**: 

#### TC-M002-2: 毎月15日（直前営業日振替） - 振替ありケース判定
- **業務ID**: M002
- **テスト日**: 2025年6月15日（日曜日で非営業日）
- **テスト内容**: 非営業日の場合、直前営業日に振り替えられるか確認
- **期待結果**: 2025年6月13日（金曜日）に振り替えられる
- **実際の結果**: 

#### TC-M006: 毎月第1営業日 - 基準日判定
- **業務ID**: M006
- **テスト日**: 2025年5月1日
- **テスト内容**: 当月の第1営業日かどうかを判定
- **期待結果**: 実行対象となる（5月の第1営業日）
- **実際の結果**: 

#### TC-M008: 毎月最終営業日 - 基準日判定
- **業務ID**: M008
- **テスト日**: 2025年4月30日
- **テスト内容**: 当月の最終営業日かどうかを判定
- **期待結果**: 実行対象となる（4月の最終営業日）
- **実際の結果**: 

### 3-4. 年次業務テストケース

#### TC-Y003: 毎年4月第1営業日 - 基準日判定
- **業務ID**: Y003
- **テスト日**: 2025年4月1日
- **テスト内容**: 4月の第1営業日かどうかを判定
- **期待結果**: 実行対象となる（2025年4月の第1営業日）
- **実際の結果**: 

#### TC-Y002: 毎年3月末日（直前営業日振替） - 振替ありケース判定
- **業務ID**: Y002
- **テスト日**: 2025年3月31日（月曜日、営業日）
- **テスト内容**: 3月末日の判定
- **期待結果**: 実行対象となる（3月末日）
- **実際の結果**: 

### 3-5. 有効期間テストケース

#### TC-S001: 期間限定タスク - 有効期間外判定
- **業務ID**: S001
- **テスト日**: 2025年4月29日
- **テスト内容**: 有効期間外の業務が対象外となるか確認
- **期待結果**: 実行対象外となる（有効期間が2024年3月1日～2024年3月31日）
- **実際の結果**: 

#### TC-LT01: 有効期限切れタスク - 有効期間外判定
- **業務ID**: LT01
- **テスト日**: 2025年4月29日
- **テスト内容**: 有効期間外の業務が対象外となるか確認
- **期待結果**: 実行対象外となる（有効期間が2023年1月1日～2023年12月31日）
- **実際の結果**: 

## 4. 特殊ケーステスト

### 4-1. 月末処理テスト

#### TC-Special-001: 月末日数の違い - 2月末
- **業務ID**: M004（毎月末日）
- **テスト内容**: 2025年2月28日が月末として正しく判定されるか確認
- **期待結果**: 実行対象となる（2025年2月の末日）
- **実際の結果**: 

#### TC-Special-002: 月末営業日の違い - 月末が休日の場合
- **業務ID**: M008（毎月最終営業日）
- **テスト日**: 2025年5月31日（土曜日で非営業日）
- **テスト内容**: 月末が非営業日の場合、最終営業日が正しく判定されるか確認
- **期待結果**: 実行対象外となる（5月の最終営業日は5月30日）
- **実際の結果**: 

### 4-2. 週番号・曜日の組み合わせテスト

#### TC-Special-003: 第5週の存在しない月
- **業務ID**: カスタム（毎月第5月曜）
- **テスト日**: 2025年4月（第5月曜がない月）
- **テスト内容**: 該当する週番号がない場合の処理を確認
- **期待結果**: 実行対象日が生成されない
- **実際の結果**: 

### 4-3. 振替重複テスト

#### TC-Special-004: 振替先が重複する場合
- **業務ID**: カスタム（複数の振替が同じ日に重なるケース）
- **テスト内容**: 振替処理が重複する場合の挙動を確認
- **期待結果**: それぞれの業務が同じ振替先日に正しく割り当てられる
- **実際の結果**: 

## 5. 日付範囲指定テスト

### 5-1. 複数月のスケジュール生成

#### TC-Range-001: 3ヶ月分のスケジュール生成
- **対象期間**: 2025年4月1日～2025年6月30日
- **テスト内容**: 指定期間内の全業務スケジュールが正しく生成されるか確認
- **期待結果**: 有効な業務のスケジュールのみが生成される
- **実際の結果**: 

## 6. テスト実行方法

テストケースの実行手順：

1. 起算日cmdで実行.cmdスクリプトを実行し、テスト基準日を2025年4月29日に設定
2. 業務一覧テーブルテストデータ.csvとカレンダー.csvを読み込む
3. テストケースに記載された業務ID、テスト日で条件を設定
4. 各テストケースの期待結果と実際の結果を比較
5. テスト結果を記録

## 7. テスト結果サマリー

各テストケースの実行結果をこのセクションに記録します。テスト実行後に更新します。

| テストケースID | 結果    | コメント                          |
|--------------|---------|----------------------------------|
| TC-D001      | [未実行] |                                  |
| TC-D002      | [未実行] |                                  |
| TC-W001      | [未実行] |                                  |
| ...          | ...     | ...                              |

## 8. 追加テストケース

必要に応じて、追加のテストケースをここに記載します。